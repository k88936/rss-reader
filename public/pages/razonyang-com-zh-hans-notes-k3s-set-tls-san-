<h2 id="目的">目的</h2>
<p>相对 IP 地址而言，域名的好处就是易记和灵活性高，即便服务器 IP 改动，只需要改动对应 DNS 解析记录即可。</p>
<p>然而默认地，当连接 K3s 集群域名地址时，你会遇到以下类似错误（以 <code>example.org</code> 为例）：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">E0131 12:38:27.974601 45714 memcache.go:265] &#34;Unhandled Error&#34; err=&#34;couldn&#39;t get current server API group list: Get \&#34;https://example.org:6443/api?timeout=32s\&#34;: tls: failed to verify certificate: x509: certificate is valid for archlinux, kubernetes, kubernetes.default, kubernetes.default.svc, kubernetes.default.svc.cluster.local, localhost, not example.org&#34;
</span></span><span class="line"><span class="ln">2</span><span class="cl">Unable to connect to the server: tls: failed to verify certificate: x509: certificate is valid for archlinux, kubernetes, kubernetes.default, kubernetes.default.svc, kubernetes.default.svc.cluster.local, localhost, not example.org
</span></span></code></pre></div><h2 id="解决方案">解决方案</h2>
<p>解决的方法很简单，就是将域名添加为额外的 TLS 证书主题别名。</p>