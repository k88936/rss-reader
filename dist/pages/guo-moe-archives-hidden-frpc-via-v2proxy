<div id="notion-article" class="mx-auto overflow-hidden "><main class="notion light-mode notion-page notion-block-6a6b20c8fd62484fae87dd7691091736"><div class="notion-viewport"></div><div class="notion-collection-page-properties"></div><h2 class="notion-h notion-h1 notion-h-indent-0 notion-block-487d2d81181d49d6a3a073aab3510b5c" data-id="487d2d81181d49d6a3a073aab3510b5c"><span><div id="487d2d81181d49d6a3a073aab3510b5c" class="notion-header-anchor"></div><a class="notion-hash-link" href="#487d2d81181d49d6a3a073aab3510b5c" title="🤔 为啥要这么干"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">🤔 为啥要这么干</span></span></h2><div class="notion-text notion-block-8fa8fe70cb73451989fac6fd387721d0">由于现代化比较先进的态势感知系统会拦截frp的流量，所以需要比较隐蔽一下frp流量。找一下手边的工具，不妨直接试试让 frp 走 V2Ray ？</div><h2 class="notion-h notion-h1 notion-h-indent-0 notion-block-d849ca5baf214a819f6f539cf4cf0196" data-id="d849ca5baf214a819f6f539cf4cf0196"><span><div id="d849ca5baf214a819f6f539cf4cf0196" class="notion-header-anchor"></div><a class="notion-hash-link" href="#d849ca5baf214a819f6f539cf4cf0196" title="📝 开搞！"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">📝 开搞！</span></span></h2><div class="notion-text notion-block-524aa4e977da4ab2af93c0a715aa676f">有了一个想法以后，去实现就不难了，而实现的工作量确实不大，效果却不错hh</div><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-56491d2f5dac407eb22c2ebb8ba1aced" data-id="56491d2f5dac407eb22c2ebb8ba1aced"><span><div id="56491d2f5dac407eb22c2ebb8ba1aced" class="notion-header-anchor"></div><a class="notion-hash-link" href="#56491d2f5dac407eb22c2ebb8ba1aced" title="拿到 V2Ray 配置文件"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">拿到 V2Ray 配置文件</span></span></h3><div class="notion-text notion-block-a43d89135c4949529b47d6f29ad23b05">如果之前有使用 v2ray 的，直接从v2rayN右键，导出所选服务器为客户端配置即可。</div><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-4a9cc5e9213d4da8a6d1ff2df2a100a5"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:317px;max-width:100%;flex-direction:column"><img style="object-fit:cover" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F7bdf65e9-0afc-4b36-ac7c-3bbb5bc2636f%2F8e664b4d-1c5f-4aaf-b03e-0a5b97427fef%2FUntitled.png?table=block&amp;id=4a9cc5e9-213d-4da8-a6d1-ff2df2a100a5&amp;t=4a9cc5e9-213d-4da8-a6d1-ff2df2a100a5&amp;width=317&amp;cache=v2" alt="notion image" loading="lazy" decoding="async"/></div></figure><div class="notion-text notion-block-e72ce9a7901242ce80d2eb2da85ce730">导出的客户端配置是带gfwlist绕过的，为了防止侧漏，所以要把绕过的部分去除掉。把rules下的内容全部删掉，只留下一个array，理论上就没啥问题了。</div><div class="notion-text notion-block-33e89efea9ee46c9b6ec7c34c9bd021e">从<!-- --> 下载对应架构的软件包，解压缩，拿出可执行文件，可以先尝试一下 v2ray test -c xxx.json 看看能否使用</div><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-f8ee08faee264ba7bcee126db6b4c841" data-id="f8ee08faee264ba7bcee126db6b4c841"><span><div id="f8ee08faee264ba7bcee126db6b4c841" class="notion-header-anchor"></div><a class="notion-hash-link" href="#f8ee08faee264ba7bcee126db6b4c841" title="frp 设置"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">frp 设置</span></span></h3><div class="notion-text notion-block-8b7883d7fa684ab4836a05584b809292">其实很简单，只需要在原有的基础上，加一行 http_proxy = <a target="_blank" rel="noopener noreferrer" class="notion-link" href="http://127.0.0.1:10809">http://127.0.0.1:10809</a> 就行了</div><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-436e093e703a45acb937b58a9b6b0c26" data-id="436e093e703a45acb937b58a9b6b0c26"><span><div id="436e093e703a45acb937b58a9b6b0c26" class="notion-header-anchor"></div><a class="notion-hash-link" href="#436e093e703a45acb937b58a9b6b0c26" title="bash 脚本"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">bash 脚本</span></span></h3><div class="notion-text notion-block-7b999b17a64a4c25b0dde542ccef6a72">攻防下，可以写一个这样的脚本，启动v2ray和frpc后删掉配置文件防止被态势感知拦截流量，至于v2ray节点，可以随便找一些公开的代理，基于此，frp的服务器地址和端口也可以隐蔽一些。</div><div class="notion-text notion-block-490160fd06d14d358676c48d9ed95a6d">不过这样还是有一些不足与优化空间的，例如如果被管理员发现后，将v2ray偷换成一个自制的代理，还是可以捕捉到请求的frp服务器地址和端口。不过用来避免被态势感知发现frp流量已经足够了。</div><h2 class="notion-h notion-h1 notion-h-indent-0 notion-block-596c825d2bda43b08e4222bed73d404b" data-id="596c825d2bda43b08e4222bed73d404b"><span><div id="596c825d2bda43b08e4222bed73d404b" class="notion-header-anchor"></div><a class="notion-hash-link" href="#596c825d2bda43b08e4222bed73d404b" title="🤗总结归纳"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">🤗总结归纳</span></span></h2><div class="notion-text notion-block-91855112600e4c07a313d69e1882cf0f">寻思frp和cs这类软件一直被态势感知所监控并封禁，所以想一种新思路来躲避监控。用v2ray也可以用来躲cs流量监控，看看以后能不能用更多的玩法了。</div><div class="notion-blank notion-block-8e0c81301e5f4535bcdd2033e9654f8a"> </div></main></div>