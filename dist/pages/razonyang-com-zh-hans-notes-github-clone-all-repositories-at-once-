<h2 id="api">API</h2>
<p>首先确定对应的 GitHub 接口地址，并将其中的 <code>&lt;org&gt;</code> 和 <code>&lt;user&gt;</code> 分别替换为组织和个人的名称。</p>
<div class="alert alert-primary clearfix" role="alert">
<div class="float-start">
 <svg aria-hidden="true" class="bi bi-info-circle-fill hi-svg-inline alert-icon me-2" fill="currentColor" height="1em" viewBox="0 0 16 16" width="1em" xmlns="http://www.w3.org/2000/svg">
 <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2"/>
</svg>
</div>
 <div class="alert-content">
<p>由于 GitHub API 最大支持每页 <code>100</code> 条结果，当仓库数量超过该值时，则需要翻页（<code>page</code>）进行多次克隆。</p>
 </div>
</div>
<h3 id="组织仓库-api">组织仓库 API</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="ln">1</span><span class="cl"><span class="nv">URL</span><span class="o">=</span><span class="s2">&#34;https://api.github.com/orgs/&lt;org&gt;/repos?per_page=100&amp;page=1&#34;</span>
</span></span></code></pre></div>

<h3 id="用户仓库-api">用户仓库 API</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="ln">1</span><span class="cl"><span class="nv">URL</span><span class="o">=</span><span class="s2">&#34;https://api.github.com/users/&lt;user&gt;/repos?per_page=100&amp;page=1&#34;</span>
</span></span></code></pre></div>

<h2 id="克隆仓库">克隆仓库</h2>
<p>由于两个接口返回格式是类似的，填好接口地址后，接着使用以下命令进行克隆。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="ln">1</span><span class="cl">curl <span class="nv">$URL</span> <span class="p">|</span>
</span></span><span class="line"><span class="ln">2</span><span class="cl"> jq <span class="s1">&#39;.[] | .ssh_url&#39;</span> <span class="p">|</span>
</span></span><span class="line"><span class="ln">3</span><span class="cl"> xargs <span class="nb">printf</span> <span class="s1">&#39;git clone %s &amp; &#39;</span> <span class="p">|</span>
</span></span><span class="line"><span class="ln">4</span><span class="cl"> sh
</span></span></code></pre></div>

<ol>
<li><code>curl $URL</code> 调用接口。</li>
<li><code>jq '.[] | .ssh_url'</code> 读取每个仓库的 <code>ssh_url</code>，当然你可以使用 <code>clone_url</code> 以 HTTPS 协议克隆。</li>
<li><code>xargs printf 'git clone %s &amp; '</code> 对多个克隆命令进行拼接，其中尾部的 <code>&amp;</code> 表示后台运行，其不会等待其他命令返回结果。</li>
<li><code>sh</code> 执行上述生成的多个克隆命令。</li>
</ol>
<div class="alert alert-primary clearfix" role="alert">
<div class="float-start">
 <svg aria-hidden="true" class="bi bi-info-circle-fill hi-svg-inline alert-icon me-2" fill="currentColor" height="1em" viewBox="0 0 16 16" width="1em" xmlns="http://www.w3.org/2000/svg">
 <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2"/>
</svg>
</div>
 <div class="alert-content">
<p>若需要克隆私有仓库，请参考<a
 href="https://docs.github.com/zh/rest/authentication/authenticating-to-the-rest-api?apiVersion=2022-11-28"
 
 target="_blank" rel="noopener noreferrer">对 REST API 进行身份验证</a>。</p>