<h2 id="背景">背景</h2>
<p>昨天买了块立创泰山派开发板，还没到货，打算先编译个 SDK，发现 <code>home</code> 分区略小，不足以编译，而身旁又没有空闲且容量大的硬盘，于是乎打算从 <code>root</code> 分区中割出点容量。</p>
<h2 id="准备">准备</h2>
<p>使用 LiveUSB 启动并执行后续步骤。</p>
<h2 id="缩小分区容量">缩小分区容量</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="ln">1</span><span class="cl">lvreduce --resizefs -L 128GiB /dev/arch/root
</span></span></code></pre></div>

<ol>
<li><code>-L 128GiB</code> 指定了缩小后的容量。</li>
<li><code>/dev/arch/root</code> 为目标分区，请根据自身情况修改。</li>
</ol>
<h2 id="扩展分区容量">扩展分区容量</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="ln">1</span><span class="cl">lvextend --resizefs -l +100%FREE /dev/arch/home
</span></span></code></pre></div>

<ol>
<li><code>-l +100%FREE</code> 表示将剩余的空余容量都分给分区，注意是 <code>-l</code> 是<strong>小写</strong>的 L。</li>
<li><code>/dev/arch/home</code> 为目标分区，请根据自身情况修改。</li>
</ol>